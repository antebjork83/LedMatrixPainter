<div style="padding: 20px;" class="clearfix">
    <h4>LED Matrix Painter</h4>

    <div class="screen">
        @{
            int counter = 0;
            int xPos = 15;
            int yPos = 15;
        }

        @foreach (var led in _ledMatrix.Leds)
        {
                <div class="led" style="background-color:@("#"+led.HexColor);left: @(xPos + "px");top: @(yPos + "px");@(led.HexColor != "000000" ? string.Format("box-shadow: 0 0 8px 2px rgba({0}, {1}, {2}, .75);", led.LedRgb.Red, led.LedRgb.Green, led.LedRgb.Blue) : "")" @onclick="@(() => UpdateLed(led))" @ondblclick="SetPaintMode" @onmouseover="@(() => Paint(led))"></div>

            if (counter < MatrixWidth - 1)
            {
                xPos += 15;
            }
            else
            {
                xPos = 15;
            }

            if (counter == MatrixWidth - 1)
            {
                yPos += 15;
            }

            if (counter < MatrixWidth - 1)
            {
                counter++;
            }
            else
            {
                counter = 0;
            }
        }

    </div>


    <div class="mt-2">
        <div class="btn btn-danger me-3" @onclick="@(() => Clear())"><i class="fas fa-trash-alt me-1"></i> Clear all</div>
        <input type="color" @onchange="@(args => ChangeColor(args))" value="#17de1b" class="me-3" />
    </div>
    <div class="mt-2">
        <p>Edit mode: <b>@_editMode</b> <br /><small>(double click to enter edit mode)</small></p>
    </div>

</div>
